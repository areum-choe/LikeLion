```python
import os
import time
import re
```


```python
os.getcwd()
```




    'C:\\Users\\chlal\\Documents\\GitHub\\LikeLion\\code'




```python
from selenium import webdriver
from bs4 import BeautifulSoup
```


```python
driver=webdriver.Chrome('./chromedriver_90.exe')
```


```python
url='https:///www.amazon.com/'
driver.get(url)
```


```python
sel_search = driver.find_element_by_xpath('//*[@id="twotabsearchtextbox"]')
sel_btn = driver.find_element_by_xpath('//*[@id="nav-search-submit-button"]')

print(sel_search.tag_name,sel_btn.tag_name)
```

    input input
    


```python
sel_search.clear()
sel_search.send_keys('samsung tv')
sel_btn.click()
```


```python
url = 'https://www.amazon.com/Hisense-40-Inch-Class-Compatibility-40H4F/dp/B084B1T8KK/ref=sr_1_1_sspa?dchild=1&keywords=samsung+tv&qid=1624259326&sr=8-1-spons&psc=1&spLa=ZW5jcnlwdGVkUXVhbGlmaWVyPUEzTjc5Q1FSS05ERldEJmVuY3J5cHRlZElkPUEwODI2Mzk3MVJSRUdGS01XT0tJViZlbmNyeXB0ZWRBZElkPUEwMDE5MDA2MlE0QUU4RlI0M09EQiZ3aWRnZXROYW1lPXNwX2F0ZiZhY3Rpb249Y2xpY2tSZWRpcmVjdCZkb05vdExvZ0NsaWNrPXRydWU='
driver.get(url)
```


```python
page = driver.page_source
soup = BeautifulSoup(page, 'html.parser')
soup.title
```




    <title>Amazon.com: Hisense 40-Inch Class H4 Series LED Roku Smart TV with Alexa Compatibility (40H4F, 2020 Model): Electronics</title>




```python
### 닉네임
import re 
all_r=soup.find_all("div",class_="a-section celwidget")
all_user=[]
all_score=[]
all_date=[]
all_people=[]

for one in all_r:
    user_one=one.find("span",class_="a-profile-name").text
    all_user.append(user_one) #사용자 추가
    
    score_one=one.find("span",class_="a-icon-alt").text
    nums = re.findall("\d+", score_one)[0]
    all_score.append(nums) #평점
    
    review_date = one.find("span", class_="a-size-base a-color-secondary review-date")
    tmp = review_date.text
    texts = tmp.split("on")
    all_date.append(texts[1]) #날짜

        
    review_people = one.find("span", class_="a-size-base a-color-tertiary cr-vote-text")
    tmp = review_people.text
    all_people.append(tmp) #도움받은 사람 수
    


    
print(all_user)
print(all_score)
print(all_date)
print(all_people)
```

    ['Christine Haas', 'Shok', 'Laura', 'Courtney', 'Jayme', 'CeeKay', 'gregory', 'Richelle']
    ['3', '1', '5', '5', '5', '1', '3', '5']
    [' March 12, 2020', ' March 12, 2020', ' April 4, 2020', ' February 26, 2020', ' January 22, 2021', ' September 10, 2020', ' May 11, 2020', ' February 29, 2020']
    ['172 people found this helpful', '147 people found this helpful', '110 people found this helpful', '107 people found this helpful', '64 people found this helpful', '71 people found this helpful', '64 people found this helpful', '76 people found this helpful']
    


```python
import pandas as pd
```


```python
dat_r = {"사용자":all_user, "평점":all_score,
         "날짜":all_date, '도움':all_people}
dat = pd.DataFrame(dat_r)
dat
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>사용자</th>
      <th>평점</th>
      <th>날짜</th>
      <th>도움</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Christine Haas</td>
      <td>3</td>
      <td>March 12, 2020</td>
      <td>172 people found this helpful</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Shok</td>
      <td>1</td>
      <td>March 12, 2020</td>
      <td>147 people found this helpful</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Laura</td>
      <td>5</td>
      <td>April 4, 2020</td>
      <td>110 people found this helpful</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Courtney</td>
      <td>5</td>
      <td>February 26, 2020</td>
      <td>107 people found this helpful</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Jayme</td>
      <td>5</td>
      <td>January 22, 2021</td>
      <td>64 people found this helpful</td>
    </tr>
    <tr>
      <th>5</th>
      <td>CeeKay</td>
      <td>1</td>
      <td>September 10, 2020</td>
      <td>71 people found this helpful</td>
    </tr>
    <tr>
      <th>6</th>
      <td>gregory</td>
      <td>3</td>
      <td>May 11, 2020</td>
      <td>64 people found this helpful</td>
    </tr>
    <tr>
      <th>7</th>
      <td>Richelle</td>
      <td>5</td>
      <td>February 29, 2020</td>
      <td>76 people found this helpful</td>
    </tr>
  </tbody>
</table>
</div>




```python
dat.to_csv("AmazonTV_review.csv", index=False)

## 확인
print(os.getcwd())  # 현재 위치
print(os.listdir(os.getcwd()))
```

    C:\Users\chlal\Documents\GitHub\LikeLion\code
    ['.ipynb_checkpoints', '210621_class.ipynb', '210621_실습.ipynb', 'amazonreview.csv', 'AmazonTV_review.csv', 'chromedriver_90.exe', 'chromedriver_win32.zip', '셀레늄.ipynb']
    


```python

```
